#!/usr/bin/env sh
set -eu

execute_pycodestyle() {
  local readonly DOCKER_COMPOSE_RUN_COMMAND_LIBRARY_PATH="${CONTAINER_WORKSPACE_FOLDER}/lib/run_docker_compose_command.sh"

  # arguments
  local readonly DOCKER_COMPOSE_FILEPATH="${CONTAINER_WORKSPACE_FOLDER}/src/docker-compose.yml"
  local readonly DOCKER_COMPOSE_RUNTIME_CONTAINER_SERVICE_NAME='devel'
  local readonly RUNTIME_CONTAINER_WORKING_DIRPATH='/workspace'
  local readonly RUNTIME_CONTAINER_EXECUTE_COMMAND='pycodestyle'

  . "${DOCKER_COMPOSE_RUN_COMMAND_LIBRARY_PATH}"
  run_docker_compose_command "${DOCKER_COMPOSE_FILEPATH}" "${DOCKER_COMPOSE_RUNTIME_CONTAINER_SERVICE_NAME}" "${RUNTIME_CONTAINER_WORKING_DIRPATH}" "${RUNTIME_CONTAINER_EXECUTE_COMMAND}" "${@}"
}
execute_pycodestyle "${@}"
